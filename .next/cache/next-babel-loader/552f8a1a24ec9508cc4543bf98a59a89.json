{"ast":null,"code":"import express from \"express\";\nconst app = express(); // app.use(cors);\n\nimport { sequelize as db } from \"../../../models\";\nconst {\n  Settings\n} = db.models;\napp.route(\"/api/settings\").get(async (req, res) => {\n  const allSettings = await Settings.findAll({\n    attributes: {\n      exclude: [\"createdAt\", \"updatedAt\", \"id\"]\n    }\n  });\n  let settings = {};\n  allSettings.forEach(item => {\n    settings[item.name] = item.body;\n  });\n  return res.send(settings);\n});\nexport default app;","map":{"version":3,"sources":["/Users/imac/Desktop/mokaleme/pages/api/settings/index.js"],"names":["express","app","sequelize","db","Settings","models","route","get","req","res","allSettings","findAll","attributes","exclude","settings","forEach","item","name","body","send"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,MAAMC,GAAG,GAAGD,OAAO,EAAnB,C,CACA;;AACA,SAASE,SAAS,IAAIC,EAAtB,QAAgC,iBAAhC;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAeD,EAAE,CAACE,MAAxB;AACAJ,GAAG,CAACK,KAAJ,CAAU,eAAV,EAA2BC,GAA3B,CAA+B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAMC,WAAW,GAAG,MAAMN,QAAQ,CAACO,OAAT,CAAiB;AACzCC,IAAAA,UAAU,EAAE;AAAEC,MAAAA,OAAO,EAAE,CAAC,WAAD,EAAc,WAAd,EAA2B,IAA3B;AAAX;AAD6B,GAAjB,CAA1B;AAGA,MAAIC,QAAQ,GAAG,EAAf;AACAJ,EAAAA,WAAW,CAACK,OAAZ,CAAoBC,IAAI,IAAI;AAC1BF,IAAAA,QAAQ,CAACE,IAAI,CAACC,IAAN,CAAR,GAAsBD,IAAI,CAACE,IAA3B;AACD,GAFD;AAGA,SAAOT,GAAG,CAACU,IAAJ,CAASL,QAAT,CAAP;AACD,CATD;AAWA,eAAeb,GAAf","sourcesContent":["import express from \"express\";\nconst app = express();\n// app.use(cors);\nimport { sequelize as db } from \"../../../models\";\nconst { Settings } = db.models;\napp.route(\"/api/settings\").get(async (req, res) => {\n  const allSettings = await Settings.findAll({\n    attributes: { exclude: [\"createdAt\", \"updatedAt\", \"id\"] }\n  });\n  let settings = {};\n  allSettings.forEach(item => {\n    settings[item.name] = item.body;\n  });\n  return res.send(settings);\n});\n\nexport default app;\n"]},"metadata":{},"sourceType":"module"}